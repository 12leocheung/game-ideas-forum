<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Lab | Generator & Community Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f172a;
            color: #e2e8f0;
        }

        /* Navigation */
        .nav {
            border-bottom: 1px solid #1e293b;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(12px);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1.5rem;
            height: 4rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo-icon {
            width: 2rem;
            height: 2rem;
            background: #f59e0b;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            color: #0f172a;
            font-style: italic;
        }

        .logo-text {
            font-weight: 800;
            font-size: 1.25rem;
            letter-spacing: -0.05em;
        }

        .logo-text span {
            color: #f59e0b;
        }

        .nav-tabs {
            display: flex;
            gap: 1rem;
        }

        .nav-tab {
            padding: 0.5rem 1rem;
            border: none;
            background: transparent;
            color: #94a3b8;
            font-weight: 600;
            cursor: pointer;
            border-radius: 0.5rem;
            transition: all 0.3s;
        }

        .nav-tab.active {
            background: #f59e0b;
            color: #0f172a;
        }

        .nav-tab:hover {
            color: #f59e0b;
        }

        .admin-input {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 9999px;
            padding: 0.25rem 1rem;
            font-size: 0.75rem;
            width: 8rem;
            color: white;
            outline: none;
        }

        .admin-input:focus {
            border-color: #f59e0b;
        }

        .admin-badge {
            color: #22c55e;
            font-size: 0.625rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Hero */
        .hero {
            padding: 4rem 1.5rem;
            text-align: center;
            background: linear-gradient(to bottom, #1e293b, #0f172a);
            border-bottom: 1px solid #1e293b;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 800;
            color: white;
            margin-bottom: 1rem;
        }

        .hero p {
            color: #94a3b8;
            max-width: 42rem;
            margin: 0 auto;
            font-size: 1.125rem;
        }

        /* Main Content */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 1.5rem;
        }

        /* Generator Section */
        .generator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .generator-card {
            background: rgba(30, 41, 59, 0.4);
            padding: 2rem;
            border-radius: 1.5rem;
            border: 1px solid #334155;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: white;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            color: #cbd5e1;
            margin-bottom: 0.5rem;
            font-weight: 500;
            font-size: 0.875rem;
        }

        .form-select {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.75rem;
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid #334155;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .form-select:focus {
            outline: none;
            border-color: #f59e0b;
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
        }

        .form-select option {
            background: #1e293b;
        }

        .form-input, .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.75rem;
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid #334155;
            color: white;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-textarea {
            resize: none;
            height: 12rem;
            font-family: inherit;
        }

        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: #f59e0b;
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
        }

        .btn-primary {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: #0f172a;
            border: none;
            border-radius: 0.75rem;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(245, 158, 11, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .result-card {
            background: rgba(30, 41, 59, 0.4);
            padding: 2rem;
            border-radius: 1.5rem;
            border: 1px solid #334155;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-title {
            font-size: 2rem;
            font-weight: 800;
            color: #fbbf24;
            margin-bottom: 1.5rem;
        }

        .result-item {
            background: rgba(15, 23, 42, 0.5);
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .result-item h3 {
            color: #93c5fd;
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .result-item p {
            color: #e2e8f0;
            line-height: 1.6;
        }

        .status-message {
            text-align: center;
            padding: 0.75rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
            margin-top: 1rem;
        }

        .status-success {
            background: rgba(34, 197, 94, 0.1);
            color: #4ade80;
        }

        .status-error {
            background: rgba(239, 68, 68, 0.1);
            color: #f87171;
        }

        .status-bot {
            background: rgba(245, 158, 11, 0.1);
            color: #fbbf24;
        }

        /* Forum Section */
        .forum-filters {
            display: flex;
            gap: 1rem;
            background: rgba(30, 41, 59, 0.2);
            padding: 1rem;
            border-radius: 1rem;
            border: 1px solid #1e293b;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .search-wrapper {
            flex: 1;
            min-width: 250px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 0.75rem 0.75rem 2.5rem;
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid #334155;
            border-radius: 0.75rem;
            color: white;
            font-size: 0.875rem;
            outline: none;
        }

        .search-input:focus {
            border-color: #f59e0b;
        }

        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0.3;
        }

        .filter-group {
            display: flex;
            gap: 0.5rem;
        }

        .idea-card {
            background: rgba(30, 41, 59, 0.4);
            border: 1px solid #1e293b;
            border-radius: 1.5rem;
            display: flex;
            margin-bottom: 1rem;
            transition: all 0.3s;
        }

        .idea-card:hover {
            background: rgba(30, 41, 59, 0.6);
        }

        .vote-section {
            background: rgba(15, 23, 42, 0.4);
            padding: 1.5rem 1.25rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .vote-btn {
            background: transparent;
            border: none;
            color: #64748b;
            cursor: pointer;
            padding: 0.25rem;
            transition: all 0.3s;
        }

        .vote-btn:hover {
            transform: scale(1.2);
        }

        .vote-btn.up:hover {
            color: #fbbf24;
        }

        .vote-btn.down:hover {
            color: #f43f5e;
        }

        .vote-score {
            font-size: 1.5rem;
            font-weight: 900;
        }

        .vote-score.positive {
            color: #fbbf24;
        }

        .vote-score.neutral {
            color: #64748b;
        }

        .idea-content {
            padding: 2rem;
            flex: 1;
        }

        .idea-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 0.75rem;
        }

        .genre-badge {
            font-size: 0.625rem;
            font-weight: 900;
            background: rgba(245, 158, 11, 0.1);
            color: #fbbf24;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .delete-btn {
            background: transparent;
            border: none;
            color: #64748b;
            cursor: pointer;
            transition: all 0.3s;
        }

        .delete-btn:hover {
            color: #f43f5e;
        }

        .idea-title {
            font-size: 1.5rem;
            font-weight: 800;
            color: white;
            margin-bottom: 0.75rem;
            line-height: 1.2;
        }

        .idea-description {
            color: #94a3b8;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .idea-meta {
            display: flex;
            justify-content: space-between;
            padding-top: 1rem;
            border-top: 1px solid #1e293b;
            font-size: 0.6875rem;
            font-weight: 700;
            color: #475569;
        }

        .meta-stats {
            display: flex;
            gap: 1rem;
        }

        .guidelines {
            padding: 1.5rem;
            border: 1px solid #1e293b;
            border-radius: 1.5rem;
            opacity: 0.6;
        }

        .guidelines h3 {
            font-size: 0.875rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            color: #fbbf24;
            margin-bottom: 1rem;
        }

        .guidelines ul {
            list-style: none;
            font-size: 0.75rem;
            color: #94a3b8;
            line-height: 1.8;
        }

        .empty-state {
            text-align: center;
            padding: 5rem 1.5rem;
            background: rgba(30, 41, 59, 0.3);
            border-radius: 1.5rem;
            border: 2px dashed #1e293b;
        }

        .empty-state p {
            color: #475569;
            font-weight: 500;
        }

        footer {
            margin-top: 5rem;
            border-top: 1px solid #1e293b;
            padding: 2.5rem 0;
            text-align: center;
        }

        footer p {
            color: #475569;
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .generator-grid {
                grid-template-columns: 1fr;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .nav-tabs {
                gap: 0.5rem;
            }
            
            .nav-tab {
                padding: 0.5rem;
                font-size: 0.875rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <div class="logo">
                <div class="logo-icon">GL</div>
                <span class="logo-text">GAME<span>LAB</span></span>
            </div>
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="switchTab('generator')">Generator</button>
                <button class="nav-tab" onclick="switchTab('forum')">Forum</button>
            </div>
            <div style="display: flex; align-items: center; gap: 1rem;">
                <input type="password" placeholder="Access Code" class="admin-input" id="adminInput">
                <span class="admin-badge hidden" id="adminBadge">ADMIN MODE</span>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <header class="hero">
        <h1>The Future of Gaming Starts Here</h1>
        <p>Generate unique game concepts instantly or share your vision with the community</p>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Generator Tab -->
        <div id="generatorTab">
            <div class="generator-grid">
                <div class="generator-card">
                    <h2 class="card-title">Generate Game Idea</h2>
                    <div class="form-group">
                        <label class="form-label">Genre</label>
                        <select class="form-select" id="genGenre">
                            <option value="random">Random</option>
                            <option value="action">Action</option>
                            <option value="rpg">RPG</option>
                            <option value="puzzle">Puzzle</option>
                            <option value="strategy">Strategy</option>
                            <option value="horror">Horror</option>
                            <option value="platformer">Platformer</option>
                            <option value="simulation">Simulation</option>
                            <option value="adventure">Adventure</option>
                            <option value="racing">Racing</option>
                            <option value="sports">Sports</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Theme</label>
                        <select class="form-select" id="genTheme">
                            <option value="random">Random</option>
                            <option value="cyberpunk">Cyberpunk</option>
                            <option value="medieval">Medieval Fantasy</option>
                            <option value="space">Space/Sci-Fi</option>
                            <option value="nature">Nature</option>
                            <option value="steampunk">Steampunk</option>
                            <option value="post-apocalyptic">Post-Apocalyptic</option>
                            <option value="underwater">Underwater</option>
                            <option value="supernatural">Supernatural</option>
                            <option value="western">Western</option>
                            <option value="noir">Noir</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Platform</label>
                        <select class="form-select" id="genPlatform">
                            <option value="random">Random</option>
                            <option value="mobile">Mobile</option>
                            <option value="pc">PC</option>
                            <option value="console">Console</option>
                            <option value="vr">VR</option>
                            <option value="web">Web Browser</option>
                        </select>
                    </div>
                    <button class="btn-primary" onclick="generateIdea()">üîÑ Generate Game Idea</button>
                </div>

                <div id="generatorResult" class="hidden">
                    <!-- Results will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Forum Tab -->
        <div id="forumTab" class="hidden">
            <div class="generator-grid">
                <div>
                    <div class="generator-card">
                        <h2 class="card-title">Publish Concept</h2>
                        <div class="form-group">
                            <label class="form-label">Project Title</label>
                            <input type="text" class="form-input" id="forumTitle" placeholder="Project Title">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Genre</label>
                            <select class="form-select" id="forumGenre">
                                <option value="Action">Action</option>
                                <option value="Adventure">Adventure</option>
                                <option value="RPG">RPG</option>
                                <option value="Strategy">Strategy</option>
                                <option value="Puzzle">Puzzle</option>
                                <option value="Horror">Horror</option>
                                <option value="Simulation">Simulation</option>
                                <option value="Sports">Sports</option>
                                <option value="Platformer">Platformer</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Description</label>
                            <textarea class="form-textarea" id="forumDescription" placeholder="Outline the core gameplay loop and mechanics..."></textarea>
                        </div>
                        <button class="btn-primary" onclick="postIdea()" id="postBtn">POST TO PUBLIC FEED</button>
                        <div id="statusMessage"></div>
                    </div>

                    <div class="guidelines" style="margin-top: 2rem;">
                        <h3>COMMUNITY GUIDELINES</h3>
                        <ul>
                            <li>‚Ä¢ Every concept is scanned for unique content.</li>
                            <li>‚Ä¢ Prohibited language is automatically filtered.</li>
                            <li>‚Ä¢ Ideas must contain 20+ characters of detail.</li>
                            <li>‚Ä¢ Vote objectively to help the best ideas rise.</li>
                        </ul>
                    </div>
                </div>

                <div>
                    <div class="forum-filters">
                        <div class="search-wrapper">
                            <span class="search-icon">üîç</span>
                            <input type="text" class="search-input" id="searchInput" placeholder="Search concept archives...">
                        </div>
                        <div class="filter-group">
                            <select class="form-select" id="genreFilter" style="width: auto;">
                                <option value="All">All</option>
                                <option value="Action">Action</option>
                                <option value="Adventure">Adventure</option>
                                <option value="RPG">RPG</option>
                                <option value="Strategy">Strategy</option>
                                <option value="Puzzle">Puzzle</option>
                                <option value="Horror">Horror</option>
                                <option value="Simulation">Simulation</option>
                                <option value="Sports">Sports</option>
                                <option value="Platformer">Platformer</option>
                                <option value="Other">Other</option>
                            </select>
                            <select class="form-select" id="sortFilter" style="width: auto;">
                                <option value="newest">Recent</option>
                                <option value="top">Top Rated</option>
                            </select>
                        </div>
                    </div>

                    <div id="ideasContainer">
                        <!-- Ideas will be rendered here -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>¬© 2026 Game Lab Collective. Professional Moderation Enabled.</p>
    </footer>

    <script>
        const ADMIN_SECRET = "314159";
        const BANNED_WORDS = ['spam', 'hack', 'hate', 'badword'];
        
        let ideas = [];
        let isAdmin = false;
        let usedCombinations = [];
        const maxHistory = 10;

        // Load ideas from localStorage
        function loadIdeas() {
            const stored = localStorage.getItem('gamelab_v5');
            if (stored) {
                ideas = JSON.parse(stored);
                renderIdeas();
            }
        }

        // Save ideas to localStorage
        function saveIdeas() {
            localStorage.setItem('gamelab_v5', JSON.stringify(ideas));
            renderIdeas();
        }

        // Admin check
        document.getElementById('adminInput').addEventListener('input', (e) => {
            isAdmin = e.target.value === ADMIN_SECRET;
            document.getElementById('adminBadge').classList.toggle('hidden', !isAdmin);
            renderIdeas();
        });

        // Tab switching
        function switchTab(tab) {
            const genTab = document.getElementById('generatorTab');
            const forumTab = document.getElementById('forumTab');
            const tabs = document.querySelectorAll('.nav-tab');
            
            if (tab === 'generator') {
                genTab.classList.remove('hidden');
                forumTab.classList.add('hidden');
                tabs[0].classList.add('active');
                tabs[1].classList.remove('active');
            } else {
                genTab.classList.add('hidden');
                forumTab.classList.remove('hidden');
                tabs[0].classList.remove('active');
                tabs[1].classList.add('active');
            }
        }

        // Generator code
        const gameData = {
            genres: {
                action: {
                    mechanics: [
                        'Fast-paced combat with a unique combo system',
                        'Parkour-based movement with environmental destruction',
                        'Time-manipulation combat mechanics',
                        'Dual-wielding system with weapon fusion',
                        'Rhythm-based attack sequences'
                    ],
                    features: [
                        'Enemies adapt to your fighting style',
                        'Dynamic difficulty based on performance streaks',
                        'Destructible environments affect combat strategies',
                        'Customizable skill trees with branching paths',
                        'Boss battles that learn from your tactics'
                    ]
                },
                rpg: {
                    mechanics: [
                        'Choice-driven narrative with branching storylines',
                        'Character fusion system for unique builds',
                        'Dynamic relationship system affecting gameplay',
                        'Turn-based combat with positioning strategy',
                        'Real-time decision making during dialogue'
                    ],
                    features: [
                        'Morality system that changes the world',
                        'Companions with their own story arcs',
                        'Classless progression with hybrid abilities',
                        'Procedurally generated quests',
                        'Economy that reacts to player decisions'
                    ]
                },
                puzzle: {
                    mechanics: [
                        'Physics-based puzzle solving with multiple solutions',
                        'Portal-like perspective shifting mechanics',
                        'Time reversal to undo mistakes',
                        'Object manipulation with gravity controls',
                        'Pattern recognition with increasing complexity'
                    ],
                    features: [
                        'Collaborative puzzle solving with AI companion',
                        'Hidden meta-puzzles connecting levels',
                        'Player-created puzzle sharing system',
                        'Adaptive hints based on play style',
                        'Zen mode for relaxed puzzle solving'
                    ]
                },
                strategy: {
                    mechanics: [
                        'Asymmetric faction gameplay with unique abilities',
                        'Real-time strategy with pausable tactics',
                        'Resource management with ethical dilemmas',
                        'Diplomatic system with alliance mechanics',
                        'Turn-based empire building'
                    ],
                    features: [
                        'Procedurally generated maps each playthrough',
                        'AI opponents with distinct personalities',
                        'Technology tree with mutually exclusive paths',
                        'Seasonal events affecting strategies',
                        'Multiplayer alliance system'
                    ]
                },
                horror: {
                    mechanics: [
                        'Limited resources creating constant tension',
                        'Sanity system affecting gameplay and visuals',
                        'Stealth-based survival with hiding mechanics',
                        'Sound-based detection requiring silence',
                        'Unpredictable AI stalker behavior'
                    ],
                    features: [
                        'Procedural scares that never repeat',
                        'Environmental storytelling through exploration',
                        'Multiple endings based on sanity level',
                        'Psychological horror over jump scares',
                        'Permadeath mode for ultimate tension'
                    ]
                },
                platformer: {
                    mechanics: [
                        'Gravity-switching platforming',
                        'Momentum-based movement system',
                        'Wall-running with parkour elements',
                        'Double-jumping with air dash combos',
                        'Grappling hook with physics simulation'
                    ],
                    features: [
                        'Speedrun timer with ghost replays',
                        'Collectibles that unlock abilities',
                        'Secret areas with challenging platforming',
                        'Customizable character movement physics',
                        'Co-op platforming with synchronized moves'
                    ]
                },
                simulation: {
                    mechanics: [
                        'Complex ecosystem management',
                        'Realistic economic simulation',
                        'Day/night cycle affecting gameplay',
                        'Weather system with strategic implications',
                        'Supply chain management'
                    ],
                    features: [
                        'Emergent gameplay from AI interactions',
                        'Sandbox mode with unlimited resources',
                        'Challenge scenarios with specific goals',
                        'Mod support for community content',
                        'Time-lapse view of your progress'
                    ]
                },
                adventure: {
                    mechanics: [
                        'Exploration-focused with discovery rewards',
                        'Inventory-based puzzle solving',
                        'Dialogue trees with consequence',
                        'Environmental interaction system',
                        'Investigation mechanics with clue gathering'
                    ],
                    features: [
                        'Non-linear progression through the world',
                        'Multiple solutions to story problems',
                        'Rich lore hidden in environment',
                        'Character development through choices',
                        'Photo mode to capture moments'
                    ]
                },
                racing: {
                    mechanics: [
                        'Drifting system with boost rewards',
                        'Vehicle customization affecting handling',
                        'Dynamic weather affecting track conditions',
                        'Slipstream mechanics for tactical racing',
                        'Destruction derby combat racing'
                    ],
                    features: [
                        'Track editor with sharing system',
                        'Career mode with story elements',
                        'Real-time multiplayer tournaments',
                        'Vehicle unlock progression system',
                        'Rewind feature for learning tracks'
                    ]
                },
                sports: {
                    mechanics: [
                        'Motion-based controls for realism',
                        'Career mode with player development',
                        'Team management and strategy',
                        'Quick-time events for key moments',
                        'Stamina system requiring substitutions'
                    ],
                    features: [
                        'Create-a-player with progression',
                        'Online leagues and tournaments',
                        'Replay analysis tools',
                        'Dynamic commentary system',
                        'Historical teams and players'
                    ]
                }
            },
            
            themes: {
                cyberpunk: ['neon-lit megacities', 'corporate espionage', 'augmented reality', 'hacking terminals', 'synthetic beings'],
                medieval: ['castle sieges', 'dragon encounters', 'magical artifacts', 'kingdom politics', 'mystical forests'],
                space: ['alien civilizations', 'ship combat', 'planetary exploration', 'zero gravity', 'cosmic mysteries'],
                nature: ['animal companions', 'seasonal cycles', 'ecosystem balance', 'natural disasters', 'plant magic'],
                steampunk: ['clockwork mechanisms', 'airship travel', 'industrial revolution', 'steam-powered tech', 'Victorian aesthetics'],
                'post-apocalyptic': ['survival in wastelands', 'mutated creatures', 'resource scarcity', 'faction wars', 'rebuilding society'],
                underwater: ['deep sea exploration', 'submarine navigation', 'marine life', 'pressure mechanics', 'sunken civilizations'],
                supernatural: ['ghost hunting', 'paranormal powers', 'cursed artifacts', 'spirit world', 'occult mysteries'],
                western: ['frontier towns', 'bounty hunting', 'train robberies', 'horseback riding', 'saloon culture'],
                noir: ['detective mysteries', 'crime syndicates', 'moral ambiguity', 'rainy cityscapes', 'jazz clubs']
            },

            visualStyles: [
                'Hand-drawn 2D art with frame-by-frame animation',
                'Low-poly 3D with vibrant colors',
                'Pixel art with modern lighting effects',
                'Realistic graphics with cinematic presentation',
                'Cel-shaded anime-inspired visuals',
                'Minimalist geometric design',
                'Watercolor-painted environments',
                'Retro 16-bit aesthetic',
                'Noir black and white with color accents',
                'Neon-infused dark atmosphere'
            ],

            audiences: [
                'Casual players looking for quick sessions',
                'Hardcore gamers seeking deep challenges',
                'Story-driven game enthusiasts',
                'Competitive multiplayer community',
                'Families and all ages',
                'Speedrunning community',
                'Creative builders and designers',
                'Puzzle solving enthusiasts',
                'Nostalgia-seeking retro gamers',
                'Social gamers who play with friends'
            ],

            monetization: [
                'Premium one-time purchase',
                'Free-to-play with cosmetic microtransactions',
                'Subscription model with regular content updates',
                'Pay-what-you-want with suggested price',
                'Ad-supported free version with premium upgrade',
                'Season pass with exclusive content',
                'Expansion packs adding major features',
                'Crowdfunded with early access',
                'Free with optional DLC campaigns',
                'Battle pass with seasonal rewards'
            ]
        };

        function random(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function getUniqueRandom(arr, key) {
            let attempts = 0;
            let value;
            do {
                value = random(arr);
                attempts++;
            } while (usedCombinations.includes(key + value) && attempts < 50);
            
            usedCombinations.push(key + value);
            if (usedCombinations.length > maxHistory) {
                usedCombinations.shift();
            }
            return value;
        }

        function generateIdea() {
            const genreSelect = document.getElementById('genGenre').value;
            const themeSelect = document.getElementById('genTheme').value;
            const platformSelect = document.getElementById('genPlatform').value;

            let genre = genreSelect === 'random' ? random(Object.keys(gameData.genres)) : genreSelect;
            let theme = themeSelect === 'random' ? random(Object.keys(gameData.themes)) : themeSelect;
            let platform = platformSelect === 'random' ? random(['mobile', 'pc', 'console', 'vr', 'web']) : platformSelect;

            const genreData = gameData.genres[genre];
            const mechanic = getUniqueRandom(genreData.mechanics, 'mech');
            const feature = getUniqueRandom(genreData.features, 'feat');
            const themeElement = getUniqueRandom(gameData.themes[theme], 'theme');
            const visualStyle = getUniqueRandom(gameData.visualStyles, 'visual');
            const audience = getUniqueRandom(gameData.audiences, 'aud');
            const monetization = getUniqueRandom(gameData.monetization, 'mon');

            const titlePrefixes = ['Legends of', 'Tales of', 'Chronicles of', 'Shadows of', 'Rise of', 'Fall of', 'Beyond', 'Into the', 'Echoes of', 'Realm of', 'Quest for', 'Secrets of', 'Warriors of', 'Masters of', 'Knights of', 'Guardians of', 'Spirits of', 'Heroes of', 'Dreams of', 'Curse of'];
            const titleSuffixes = ['Destiny', 'Eternity', 'Chaos', 'Glory', 'Honor', 'Twilight', 'Dawn', 'Nexus', 'Legacy', 'Odyssey', 'Fury', 'Vengeance', 'Valor', 'Fortune', 'Doom', 'Reckoning', 'Ascension', 'Revolution', 'Redemption', 'Oblivion'];
            const titleMiddles = ['the Fallen', 'the Ancients', 'the Lost', 'the Forgotten', 'the Broken', 'the Eternal', 'the Hidden', 'the Rising', 'the Cursed', 'the Sacred', 'Tomorrow', 'Yesterday', 'Infinity', 'the Void', 'the Storm'];
            
            const titleFormats = [
                `${random(titlePrefixes)} ${random(titleSuffixes)}`,
                `${random(titlePrefixes)} ${random(titleMiddles)}`,
                `${random(titleSuffixes)} ${random(titleMiddles)}`,
                `The ${random(titleSuffixes)}`,
                random(titleSuffixes) + ': ' + random(titleMiddles)
            ];
            const title = random(titleFormats);

            const pitches = [
                `A ${genre} game where ${mechanic.toLowerCase()}, set in a world of ${themeElement}`,
                `Experience ${themeElement} like never before with ${mechanic.toLowerCase()}`,
                `${mechanic} meets ${themeElement} in this innovative ${genre} experience`,
                `Explore a universe of ${themeElement} while mastering ${mechanic.toLowerCase()}`,
                `${themeElement} come alive through ${mechanic.toLowerCase()}`,
                `In a realm dominated by ${themeElement}, players must use ${mechanic.toLowerCase()} to survive`,
                `Combine ${mechanic.toLowerCase()} with ${themeElement} for an unforgettable adventure`,
                `What happens when ${themeElement} meet ${mechanic.toLowerCase()}? Find out in this ${genre} masterpiece`,
                `Master ${mechanic.toLowerCase()} to conquer the challenges of ${themeElement}`,
                `A revolutionary ${genre} where ${themeElement} shape your journey through ${mechanic.toLowerCase()}`,
                `Dive into ${themeElement} and unleash ${mechanic.toLowerCase()} in ways never seen before`,
                `${themeElement} await in this groundbreaking ${genre} featuring ${mechanic.toLowerCase()}`
            ];
            const elevator_pitch = random(pitches);

            const gameIdea = {
                title: title,
                genre: genre.charAt(0).toUpperCase() + genre.slice(1),
                elevator_pitch: elevator_pitch,
                core_mechanic: mechanic,
                unique_feature: feature,
                target_audience: audience,
                visual_style: visualStyle,
                monetization: monetization,
                platform: platform.toUpperCase()
            };

            displayGeneratorResult(gameIdea);
        }

        function displayGeneratorResult(gameIdea) {
            const container = document.getElementById('generatorResult');
            container.innerHTML = `
                <div class="result-card">
                    <h2 class="result-title">${gameIdea.title}</h2>
                    
                    <div class="result-item">
                        <h3>Genre</h3>
                        <p>${gameIdea.genre}</p>
                    </div>

                    <div class="result-item">
                        <h3>Platform</h3>
                        <p>${gameIdea.platform}</p>
                    </div>

                    <div class="result-item">
                        <h3>Elevator Pitch</h3>
                        <p style="font-style: italic;">"${gameIdea.elevator_pitch}"</p>
                    </div>

                    <div class="result-item">
                        <h3>Core Mechanic</h3>
                        <p>${gameIdea.core_mechanic}</p>
                    </div>

                    <div class="result-item">
                        <h3>Unique Feature</h3>
                        <p>${gameIdea.unique_feature}</p>
                    </div>

                    <div class="result-item">
                        <h3>Target Audience</h3>
                        <p>${gameIdea.target_audience}</p>
                    </div>

                    <div class="result-item">
                        <h3>Visual Style</h3>
                        <p>${gameIdea.visual_style}</p>
                    </div>

                    <div class="result-item">
                        <h3>Monetization</h3>
                        <p>${gameIdea.monetization}</p>
                    </div>
                </div>
            `;
            container.classList.remove('hidden');
        }

        // Forum functions
        function postIdea() {
            const title = document.getElementById('forumTitle').value;
            const description = document.getElementById('forumDescription').value;
            const genre = document.getElementById('forumGenre').value;
            const btn = document.getElementById('postBtn');
            const statusDiv = document.getElementById('statusMessage');

            if (!title.trim() || !description.trim()) {
                showStatus('error', 'Please fill in all fields.');
                return;
            }

            btn.disabled = true;
            btn.textContent = 'MODERATING...';
            showStatus('bot', 'Analyzing submission quality...');

            setTimeout(() => {
                const lowTitle = title.toLowerCase();
                const lowDesc = description.toLowerCase();
                
                if (BANNED_WORDS.some(w => lowTitle.includes(w) || lowDesc.includes(w))) {
                    showStatus('error', 'Submission flagged for prohibited language.');
                    btn.disabled = false;
                    btn.textContent = 'POST TO PUBLIC FEED';
                    return;
                }
                
                if (description.length < 20) {
                    showStatus('error', 'Description must be at least 20 characters.');
                    btn.disabled = false;
                    btn.textContent = 'POST TO PUBLIC FEED';
                    return;
                }

                const newIdea = {
                    id: Date.now().toString(),
                    title: title.trim(),
                    description: description.trim(),
                    genre: genre,
                    upvotes: 0,
                    downvotes: 0,
                    score: 0,
                    timestamp: Date.now()
                };

                ideas.unshift(newIdea);
                saveIdeas();
                
                document.getElementById('forumTitle').value = '';
                document.getElementById('forumDescription').value = '';
                showStatus('success', 'Concept published to the live feed.');
                
                btn.disabled = false;
                btn.textContent = 'POST TO PUBLIC FEED';
            }, 800);
        }

        function showStatus(type, text) {
            const statusDiv = document.getElementById('statusMessage');
            statusDiv.className = `status-message status-${type}`;
            statusDiv.textContent = text;
            statusDiv.style.display = 'block';
            
            setTimeout(() => {
                statusDiv.style.display = 'none';
            }, 3000);
        }

        function vote(id, delta) {
            ideas = ideas.map(idea => {
                if (idea.id === id) {
                    const upvotes = delta > 0 ? idea.upvotes + 1 : idea.upvotes;
                    const downvotes = delta < 0 ? idea.downvotes + 1 : idea.downvotes;
                    return { ...idea, upvotes, downvotes, score: upvotes - downvotes };
                }
                return idea;
            });
            saveIdeas();
        }

        function deleteIdea(id) {
            if (confirm('Are you sure you want to delete this concept?')) {
                ideas = ideas.filter(i => i.id !== id);
                saveIdeas();
            }
        }

        function renderIdeas() {
            const container = document.getElementById('ideasContainer');
            const searchQuery = document.getElementById('searchInput').value.toLowerCase();
            const selectedGenre = document.getElementById('genreFilter').value;
            const sortBy = document.getElementById('sortFilter').value;

            let filtered = ideas
                .filter(i => selectedGenre === 'All' || i.genre === selectedGenre)
                .filter(i => i.title.toLowerCase().includes(searchQuery) || i.description.toLowerCase().includes(searchQuery));

            if (sortBy === 'top') {
                filtered.sort((a, b) => b.score - a.score);
            } else {
                filtered.sort((a, b) => b.timestamp - a.timestamp);
            }

            if (filtered.length === 0) {
                container.innerHTML = '<div class="empty-state"><p>No concepts found matching your criteria.</p></div>';
                return;
            }

            container.innerHTML = filtered.map(idea => `
                <div class="idea-card">
                    <div class="vote-section">
                        <button class="vote-btn up" onclick="vote('${idea.id}', 1)">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="m18 15-6-6-6 6"/>
                            </svg>
                        </button>
                        <span class="vote-score ${idea.score > 0 ? 'positive' : 'neutral'}">${idea.score}</span>
                        <button class="vote-btn down" onclick="vote('${idea.id}', -1)">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="m6 9 6 6 6-6"/>
                            </svg>
                        </button>
                    </div>
                    <div class="idea-content">
                        <div class="idea-header">
                            <span class="genre-badge">${idea.genre}</span>
                            ${isAdmin ? `<button class="delete-btn" onclick="deleteIdea('${idea.id}')">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M3 6h18m-2 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>
                                </svg>
                            </button>` : ''}
                        </div>
                        <h3 class="idea-title">${idea.title}</h3>
                        <p class="idea-description">${idea.description}</p>
                        <div class="idea-meta">
                            <div class="meta-stats">
                                <span>LIKES: ${idea.upvotes}</span>
                                <span>DISLIKES: ${idea.downvotes}</span>
                            </div>
                            <span>POSTED ${new Date(idea.timestamp).toLocaleDateString()}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Event listeners for filters
        document.getElementById('searchInput').addEventListener('input', renderIdeas);
        document.getElementById('genreFilter').addEventListener('change', renderIdeas);
        document.getElementById('sortFilter').addEventListener('change', renderIdeas);

        // Initialize
        loadIdeas();
    </script>
</body>
</html>